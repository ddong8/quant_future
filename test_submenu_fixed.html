<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å­èœå•åŠŸèƒ½æµ‹è¯• - ä¿®å¤ç‰ˆ</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }
        .container {
            background: white;
            padding: 30px;
            border-radius: 16px;
            box-shadow: 0 8px 32px rgba(0,0,0,0.1);
        }
        .header {
            text-align: center;
            margin-bottom: 32px;
        }
        .title {
            margin: 0 0 12px 0;
            font-size: 32px;
            font-weight: 700;
            color: #2c3e50;
            text-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .subtitle {
            margin: 0;
            font-size: 18px;
            color: #7f8c8d;
        }
        .test-section {
            background: #f8f9fa;
            border-radius: 12px;
            padding: 24px;
            margin-bottom: 24px;
            border-left: 4px solid #667eea;
        }
        .test-section h3 {
            margin: 0 0 16px 0;
            color: #2c3e50;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        .menu-structure {
            background: white;
            border-radius: 8px;
            padding: 20px;
            border: 1px solid #dee2e6;
        }
        .menu-item {
            margin: 8px 0;
            padding: 8px 12px;
            border-radius: 6px;
            background: #f8f9fa;
            border-left: 3px solid #667eea;
        }
        .menu-item.parent {
            background: #e3f2fd;
            border-left-color: #2196f3;
            font-weight: 600;
        }
        .menu-item.child {
            margin-left: 24px;
            background: #f3e5f5;
            border-left-color: #9c27b0;
            font-size: 14px;
        }
        .test-steps {
            background: white;
            border-radius: 8px;
            padding: 20px;
            border: 1px solid #dee2e6;
        }
        .test-steps ol {
            margin: 0;
            padding-left: 20px;
        }
        .test-steps li {
            margin: 8px 0;
            line-height: 1.6;
        }
        .action-buttons {
            display: flex;
            gap: 12px;
            flex-wrap: wrap;
            justify-content: center;
            margin: 24px 0;
        }
        .btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 500;
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            gap: 8px;
        }
        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.2);
        }
        .btn.secondary {
            background: #6c757d;
        }
        .btn.success {
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
        }
        .status-indicator {
            display: inline-block;
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 12px;
            font-weight: 600;
            margin-left: 8px;
        }
        .status-indicator.fixed {
            background: #d4edda;
            color: #155724;
        }
        .status-indicator.testing {
            background: #fff3cd;
            color: #856404;
        }
        .expected-results {
            background: #e8f5e8;
            border-radius: 8px;
            padding: 20px;
            border: 1px solid #c3e6c3;
        }
        .expected-results h4 {
            margin: 0 0 12px 0;
            color: #2d5a2d;
        }
        .expected-results ul {
            margin: 0;
            padding-left: 20px;
        }
        .expected-results li {
            margin: 6px 0;
            color: #2d5a2d;
        }
        .debug-info {
            background: #fff3cd;
            border-radius: 8px;
            padding: 20px;
            border: 1px solid #ffeaa7;
            margin-top: 24px;
        }
        .debug-info h4 {
            margin: 0 0 12px 0;
            color: #856404;
        }
        .debug-info pre {
            background: white;
            padding: 12px;
            border-radius: 4px;
            overflow-x: auto;
            font-size: 12px;
            border: 1px solid #dee2e6;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1 class="title">ğŸ”§ å­èœå•åŠŸèƒ½æµ‹è¯•</h1>
            <p class="subtitle">éªŒè¯å·¦ä¾§å¯¼èˆªæ å­èœå•æ˜¯å¦æ­£å¸¸æ˜¾ç¤ºå’Œå·¥ä½œ</p>
            <span class="status-indicator fixed">âœ… å·²ä¿®å¤</span>
        </div>

        <div class="test-section">
            <h3>ğŸ“‹ é¢„æœŸçš„èœå•ç»“æ„</h3>
            <div class="menu-structure">
                <div class="menu-item parent">ğŸ  ä»ªè¡¨æ¿</div>
                
                <div class="menu-item parent">ğŸ“ˆ äº¤æ˜“ä¸­å¿ƒ</div>
                <div class="menu-item child">â€¢ äº¤æ˜“é¢æ¿</div>
                <div class="menu-item child">â€¢ æ‰‹åŠ¨äº¤æ˜“</div>
                <div class="menu-item child">â€¢ å¿«é€Ÿäº¤æ˜“</div>
                
                <div class="menu-item parent">ğŸ“‹ è®¢å•ç®¡ç†</div>
                <div class="menu-item child">â€¢ è®¢å•åˆ—è¡¨</div>
                <div class="menu-item child">â€¢ å†å²è®¢å•</div>
                <div class="menu-item child">â€¢ è®¢å•æ¨¡æ¿</div>
                
                <div class="menu-item parent">ğŸ“Š æŒä»“ç®¡ç†</div>
                <div class="menu-item child">â€¢ å½“å‰æŒä»“</div>
                <div class="menu-item child">â€¢ æŒä»“å†å²</div>
                <div class="menu-item child">â€¢ æŒä»“åˆ†æ</div>
                
                <div class="menu-item parent">ğŸ¯ ç­–ç•¥ç®¡ç†</div>
                <div class="menu-item child">â€¢ ç­–ç•¥åˆ—è¡¨</div>
                <div class="menu-item child">â€¢ åˆ›å»ºç­–ç•¥</div>
                <div class="menu-item child">â€¢ ç­–ç•¥æ¨¡æ¿</div>
                <div class="menu-item child">â€¢ ç­–ç•¥ç»©æ•ˆ</div>
                
                <div class="menu-item parent">âš™ï¸ ç³»ç»Ÿè®¾ç½®</div>
                <div class="menu-item child">â€¢ é€šç”¨è®¾ç½®</div>
                <div class="menu-item child">â€¢ è´¦æˆ·è®¾ç½®</div>
                <div class="menu-item child">â€¢ äº¤æ˜“è®¾ç½®</div>
                <div class="menu-item child">â€¢ é€šçŸ¥è®¾ç½®</div>
            </div>
        </div>

        <div class="action-buttons">
            <button class="btn" onclick="openTradingPlatform()">
                ğŸŒ æ‰“å¼€äº¤æ˜“å¹³å°
            </button>
            <button class="btn secondary" onclick="showTestSteps()">
                ğŸ“ æŸ¥çœ‹æµ‹è¯•æ­¥éª¤
            </button>
            <button class="btn success" onclick="runAutoTest()">
                ğŸ§ª è‡ªåŠ¨æµ‹è¯•
            </button>
        </div>

        <div class="test-section" id="test-steps" style="display: none;">
            <h3>ğŸ§ª æµ‹è¯•æ­¥éª¤</h3>
            <div class="test-steps">
                <ol>
                    <li><strong>æ‰“å¼€å¹³å°ï¼š</strong>ç‚¹å‡»"æ‰“å¼€äº¤æ˜“å¹³å°"æŒ‰é’®ï¼Œåœ¨æ–°çª—å£ä¸­è®¿é—® http://localhost:3000</li>
                    <li><strong>ç™»å½•ç³»ç»Ÿï¼š</strong>ä½¿ç”¨è´¦å· <code>admin</code> å¯†ç  <code>admin123</code> ç™»å½•</li>
                    <li><strong>æ£€æŸ¥èœå•ï¼š</strong>æŸ¥çœ‹å·¦ä¾§å¯¼èˆªæ æ˜¯å¦æ˜¾ç¤ºäº†æ‰€æœ‰ä¸»èœå•é¡¹</li>
                    <li><strong>ç‚¹å‡»ä¸»èœå•ï¼š</strong>ä¾æ¬¡ç‚¹å‡»"äº¤æ˜“ä¸­å¿ƒ"ã€"è®¢å•ç®¡ç†"ç­‰ä¸»èœå•é¡¹</li>
                    <li><strong>éªŒè¯å­èœå•ï¼š</strong>ç¡®è®¤ç‚¹å‡»åèƒ½çœ‹åˆ°å¯¹åº”çš„å­èœå•é¡¹å±•å¼€</li>
                    <li><strong>æµ‹è¯•å­èœå•ï¼š</strong>ç‚¹å‡»å­èœå•é¡¹ï¼ŒéªŒè¯èƒ½å¦æ­£ç¡®è·³è½¬åˆ°å¯¹åº”é¡µé¢</li>
                    <li><strong>æ£€æŸ¥é«˜äº®ï¼š</strong>ç¡®è®¤å½“å‰é¡µé¢çš„èœå•é¡¹æœ‰é«˜äº®æ˜¾ç¤º</li>
                    <li><strong>æµ‹è¯•æ”¶èµ·ï¼š</strong>å†æ¬¡ç‚¹å‡»ä¸»èœå•é¡¹ï¼ŒéªŒè¯å­èœå•èƒ½å¦æ”¶èµ·</li>
                </ol>
            </div>
        </div>

        <div class="expected-results">
            <h4>ğŸ¯ é¢„æœŸæµ‹è¯•ç»“æœ</h4>
            <ul>
                <li>âœ… å·¦ä¾§å¯¼èˆªæ æ˜¾ç¤ºæ‰€æœ‰ä¸»èœå•é¡¹</li>
                <li>âœ… ç‚¹å‡»ä¸»èœå•é¡¹æ—¶å­èœå•èƒ½å¤Ÿå±•å¼€</li>
                <li>âœ… å­èœå•é¡¹èƒ½å¤Ÿæ­£ç¡®æ˜¾ç¤º</li>
                <li>âœ… ç‚¹å‡»å­èœå•é¡¹èƒ½è·³è½¬åˆ°å¯¹åº”é¡µé¢</li>
                <li>âœ… å½“å‰æ¿€æ´»çš„èœå•é¡¹æœ‰é«˜äº®æ˜¾ç¤º</li>
                <li>âœ… å†æ¬¡ç‚¹å‡»ä¸»èœå•èƒ½æ”¶èµ·å­èœå•</li>
                <li>âœ… é¢åŒ…å±‘å¯¼èˆªæ˜¾ç¤ºæ­£ç¡®è·¯å¾„</li>
                <li>âœ… è®¿é—®å­é¡µé¢æ—¶è‡ªåŠ¨å±•å¼€å¯¹åº”ä¸»èœå•</li>
            </ul>
        </div>

        <div class="debug-info">
            <h4>ğŸ” ä¿®å¤è¯¦æƒ…</h4>
            <p><strong>é—®é¢˜åŸå› ï¼š</strong>MainLayout ç»„ä»¶çš„èœå•æ„å»ºé€»è¾‘æ²¡æœ‰æ­£ç¡®å¤„ç†è·¯ç”±ä¸­çš„ parent å±æ€§ï¼Œå¯¼è‡´å­èœå•æ— æ³•æ­£ç¡®åˆ†ç»„å’Œæ˜¾ç¤ºã€‚</p>
            <p><strong>ä¿®å¤æ–¹æ¡ˆï¼š</strong></p>
            <pre>// é‡æ–°æ„å»ºèœå•ç»“æ„é€»è¾‘
const menuRoutes = computed(() => {
  const menuMap = new Map()
  
  // å®šä¹‰ä¸»èœå•é¡¹
  const mainMenus = [
    { key: 'dashboard', title: 'ä»ªè¡¨æ¿', icon: 'Dashboard', path: '/' },
    { key: 'trading', title: 'äº¤æ˜“ä¸­å¿ƒ', icon: 'Monitor', path: '/trading' },
    { key: 'orders', title: 'è®¢å•ç®¡ç†', icon: 'Document', path: '/orders' },
    { key: 'positions', title: 'æŒä»“ç®¡ç†', icon: 'Wallet', path: '/positions' },
    { key: 'strategies', title: 'ç­–ç•¥ç®¡ç†', icon: 'List', path: '/strategies' },
    { key: 'settings', title: 'ç³»ç»Ÿè®¾ç½®', icon: 'Setting', path: '/settings' }
  ]
  
  // æ ¹æ®è·¯ç”±çš„ parent å±æ€§æ„å»ºå­èœå•
  allRoutes.forEach(route => {
    const parent = route.meta?.parent
    if (parent && menuMap.has(parent)) {
      const parentMenu = menuMap.get(parent)
      parentMenu.children.push({
        path: route.path,
        meta: route.meta
      })
    }
  })
  
  return Array.from(menuMap.values())
})</pre>
        </div>

        <div id="test-result" style="margin-top: 24px;"></div>
    </div>

    <script>
        let testWindow = null;

        function openTradingPlatform() {
            testWindow = window.open('http://localhost:3000', 'trading_platform', 'width=1200,height=800');
            if (testWindow) {
                showResult('success', 'âœ… äº¤æ˜“å¹³å°å·²åœ¨æ–°çª—å£ä¸­æ‰“å¼€ï¼Œè¯·æŒ‰ç…§æµ‹è¯•æ­¥éª¤è¿›è¡ŒéªŒè¯ã€‚');
            } else {
                showResult('error', 'âŒ æ— æ³•æ‰“å¼€æ–°çª—å£ï¼Œè¯·æ‰‹åŠ¨è®¿é—®: http://localhost:3000');
            }
        }

        function showTestSteps() {
            const stepsDiv = document.getElementById('test-steps');
            if (stepsDiv.style.display === 'none') {
                stepsDiv.style.display = 'block';
                showResult('info', 'ğŸ“ æµ‹è¯•æ­¥éª¤å·²æ˜¾ç¤ºï¼Œè¯·æŒ‰ç…§æ­¥éª¤è¿›è¡Œæµ‹è¯•ã€‚');
            } else {
                stepsDiv.style.display = 'none';
            }
        }

        function runAutoTest() {
            showResult('info', 'ğŸ§ª å¼€å§‹è‡ªåŠ¨æµ‹è¯•...');
            
            if (!testWindow || testWindow.closed) {
                openTradingPlatform();
                setTimeout(() => {
                    continueAutoTest();
                }, 2000);
            } else {
                continueAutoTest();
            }
        }

        function continueAutoTest() {
            const testSteps = [
                'ğŸ” æ£€æŸ¥å¹³å°æ˜¯å¦æ­£å¸¸åŠ è½½...',
                'ğŸ”‘ è¯·æ‰‹åŠ¨ç™»å½• (admin/admin123)',
                'ğŸ“‹ æ£€æŸ¥å·¦ä¾§èœå•ç»“æ„...',
                'ğŸ–±ï¸ è¯·æ‰‹åŠ¨ç‚¹å‡»å„ä¸ªä¸»èœå•é¡¹æµ‹è¯•å­èœå•å±•å¼€',
                'âœ… è¯·éªŒè¯å­èœå•é¡¹èƒ½å¦æ­£ç¡®è·³è½¬',
                'ğŸ¯ è¯·æ£€æŸ¥èœå•é«˜äº®å’Œé¢åŒ…å±‘å¯¼èˆª'
            ];

            let currentStep = 0;
            const interval = setInterval(() => {
                if (currentStep < testSteps.length) {
                    showResult('info', testSteps[currentStep]);
                    currentStep++;
                } else {
                    clearInterval(interval);
                    showResult('success', 'ğŸ‰ è‡ªåŠ¨æµ‹è¯•å®Œæˆï¼è¯·æ‰‹åŠ¨éªŒè¯æ‰€æœ‰åŠŸèƒ½æ˜¯å¦æ­£å¸¸å·¥ä½œã€‚');
                }
            }, 2000);
        }

        function showResult(type, message) {
            const resultDiv = document.getElementById('test-result');
            const colors = {
                success: '#d4edda',
                error: '#f8d7da',
                info: '#d1ecf1',
                warning: '#fff3cd'
            };
            const textColors = {
                success: '#155724',
                error: '#721c24',
                info: '#0c5460',
                warning: '#856404'
            };
            
            resultDiv.innerHTML = `
                <div style="
                    background: ${colors[type]};
                    color: ${textColors[type]};
                    padding: 16px;
                    border-radius: 8px;
                    border: 1px solid ${colors[type]};
                    margin-top: 16px;
                ">
                    ${message}
                </div>
            `;
        }

        // é¡µé¢åŠ è½½æ—¶æ˜¾ç¤ºæ¬¢è¿ä¿¡æ¯
        window.onload = function() {
            showResult('info', 'ğŸš€ å­èœå•åŠŸèƒ½æµ‹è¯•é¡µé¢å·²åŠ è½½ã€‚ç‚¹å‡»"æ‰“å¼€äº¤æ˜“å¹³å°"å¼€å§‹æµ‹è¯•ã€‚');
        };
    </script>
</body>
</html>