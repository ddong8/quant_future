# ============================================================================
# 量化交易平台环境变量配置文件
# 
# 说明：
# 1. 复制此文件为 .env 并根据实际环境修改配置值
# 2. 生产环境中请务必修改所有默认密钥和密码
# 3. 数据库连接信息需要与实际部署环境匹配
# 4. 所有以 "your-" 开头的值都需要替换为实际值
# ============================================================================

# ============================================================================
# 应用基础配置
# ============================================================================
APP_NAME=量化交易平台
APP_VERSION=0.1.0
DEBUG=false
SECRET_KEY=your-secret-key-change-in-production-minimum-32-characters

# ============================================================================
# 数据库配置
# ============================================================================
# PostgreSQL 主数据库
DATABASE_URL=postgresql://postgres:password@db:5432/trading_db

# InfluxDB 时序数据库（用于市场数据存储）
INFLUXDB_URL=http://influxdb:8086
INFLUXDB_TOKEN=your-super-secret-influxdb-auth-token
INFLUXDB_ORG=trading-org
INFLUXDB_BUCKET=market-data

# Redis 缓存数据库
REDIS_URL=redis://redis:6379/0

# ============================================================================
# JWT 认证配置
# ============================================================================
JWT_ALGORITHM=HS256
JWT_ACCESS_TOKEN_EXPIRE_MINUTES=30
JWT_REFRESH_TOKEN_EXPIRE_DAYS=7

# ============================================================================
# 交易接口配置
# ============================================================================
# tqsdk 配置（天勤量化接口）
TQSDK_AUTH=your-tqsdk-auth-token
TQSDK_ACCOUNT=your-trading-account-id

# ============================================================================
# 邮件服务配置（可选）
# ============================================================================
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your-email@gmail.com
SMTP_PASSWORD=your-email-app-password

# ============================================================================
# 日志配置
# ============================================================================
LOG_LEVEL=INFO
LOG_FILE=logs/app.log

# ============================================================================
# 风险管理配置
# ============================================================================
MAX_DAILY_LOSS_PERCENT=5.0
MAX_POSITION_PERCENT=20.0
MAX_ORDERS_PER_MINUTE=10

# ============================================================================
# Docker Compose 专用配置
# ============================================================================
# 数据库初始化配置
DB_INIT_RETRY_COUNT=5
DB_INIT_RETRY_DELAY=2
DB_INIT_TIMEOUT=30

# 容器健康检查配置
HEALTH_CHECK_INTERVAL=30s
HEALTH_CHECK_TIMEOUT=10s
HEALTH_CHECK_RETRIES=3

# 网络配置
BACKEND_PORT=8000
FRONTEND_PORT=3000
POSTGRES_PORT=5432
INFLUXDB_PORT=8086
REDIS_PORT=6379

# ============================================================================
# 开发环境专用配置
# ============================================================================
# 开发模式下的额外配置
DEV_CORS_ORIGINS=["http://localhost:3000", "http://127.0.0.1:3000"]
DEV_RELOAD=true
DEV_LOG_SQL=false

# ============================================================================
# 生产环境专用配置
# ============================================================================
# 生产环境下的安全配置
PROD_CORS_ORIGINS=["https://yourdomain.com"]
PROD_SECURE_COOKIES=true
PROD_HTTPS_ONLY=true

# SSL/TLS 配置
SSL_CERT_PATH=/etc/ssl/certs/cert.pem
SSL_KEY_PATH=/etc/ssl/private/key.pem

# ============================================================================
# 监控和日志配置
# ============================================================================
# Prometheus 监控
PROMETHEUS_ENABLED=false
PROMETHEUS_PORT=9090

# Grafana 仪表板
GRAFANA_ENABLED=false
GRAFANA_PORT=3001

# 日志聚合
LOG_AGGREGATION_ENABLED=false
LOG_AGGREGATION_ENDPOINT=http://logstash:5000

# ============================================================================
# 备份和恢复配置
# ============================================================================
# 数据库备份配置
BACKUP_ENABLED=false
BACKUP_SCHEDULE=0 2 * * *
BACKUP_RETENTION_DAYS=30
BACKUP_S3_BUCKET=your-backup-bucket
BACKUP_S3_ACCESS_KEY=your-s3-access-key
BACKUP_S3_SECRET_KEY=your-s3-secret-key

# ============================================================================
# 性能调优配置
# ============================================================================
# 数据库连接池配置
DB_POOL_SIZE=10
DB_MAX_OVERFLOW=20
DB_POOL_RECYCLE=300
DB_POOL_PRE_PING=true

# Redis 连接池配置
REDIS_MAX_CONNECTIONS=50
REDIS_CONNECTION_TIMEOUT=5

# 应用性能配置
WORKER_PROCESSES=4
WORKER_CONNECTIONS=1000
KEEPALIVE_TIMEOUT=65