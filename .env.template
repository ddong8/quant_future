# 量化交易平台 Docker Compose 环境变量模板
# 复制此文件为 .env 并根据需要修改配置

# =============================================================================
# 数据库配置
# =============================================================================

# PostgreSQL 配置
POSTGRES_DB=trading_db
POSTGRES_USER=postgres
POSTGRES_PASSWORD=password
DATABASE_URL=postgresql://postgres:password@postgres:5432/trading_db

# Redis 配置
REDIS_URL=redis://redis:6379/0
REDIS_MAX_CONNECTIONS=50
REDIS_CONNECTION_TIMEOUT=5

# InfluxDB 配置
INFLUXDB_DB=trading
INFLUXDB_ADMIN_USER=admin
INFLUXDB_ADMIN_PASSWORD=password
INFLUXDB_ADMIN_TOKEN=my-super-secret-auth-token
INFLUXDB_URL=http://influxdb:8086
INFLUXDB_ORG=trading-org
INFLUXDB_BUCKET=market-data

# =============================================================================
# 应用配置
# =============================================================================

# 基础应用配置
APP_NAME=量化交易平台
APP_VERSION=0.1.0
SECRET_KEY=your-super-secret-key-change-this-in-production
DEBUG=true
LOG_LEVEL=INFO

# JWT 配置
JWT_ALGORITHM=HS256
JWT_ACCESS_TOKEN_EXPIRE_MINUTES=30
JWT_REFRESH_TOKEN_EXPIRE_DAYS=7

# =============================================================================
# 数据库初始化配置
# =============================================================================

DB_INIT_TIMEOUT=60
DB_INIT_RETRY_COUNT=5
DB_INIT_RETRY_DELAY=2

# =============================================================================
# 性能配置
# =============================================================================

# 后端性能配置
WORKER_PROCESSES=1
WORKER_CONNECTIONS=1000
KEEPALIVE_TIMEOUT=65

# 数据库连接池配置
DB_POOL_SIZE=10
DB_MAX_OVERFLOW=20
DB_POOL_RECYCLE=300
DB_POOL_PRE_PING=true

# =============================================================================
# 健康检查配置
# =============================================================================

HEALTH_CHECK_INTERVAL=30s
HEALTH_CHECK_TIMEOUT=10s
HEALTH_CHECK_RETRIES=3

# =============================================================================
# 网络配置
# =============================================================================

# 前端配置
VITE_API_BASE_URL=http://localhost:8000/api/v1
VITE_WS_BASE_URL=ws://localhost:8000/api/v1/ws
VITE_API_PROXY_TARGET=http://backend:8000
VITE_WS_PROXY_TARGET=ws://backend:8000

# CORS 配置
DEV_CORS_ORIGINS=["http://localhost:3000", "http://127.0.0.1:3000"]

# =============================================================================
# 容器配置
# =============================================================================

CONTAINER_NAME=trading_backend
CONTAINER_ENV=docker

# Node.js 配置
NODE_ENV=development
NODE_OPTIONS=--max-old-space-size=4096

# 前端应用配置
VITE_APP_TITLE=量化交易平台
VITE_APP_VERSION=0.1.0
VITE_ENABLE_DEBUG=true
VITE_REQUEST_TIMEOUT=30000
VITE_WEBSOCKET_TIMEOUT=30000