# 缺失菜单项修复实施计划

- [x] 1. 诊断当前菜单显示问题
  - 添加调试日志到MainLayout.vue的menuRoutes计算属性
  - 检查路由匹配逻辑是否正确工作
  - 验证权限检查是否影响菜单显示
  - _需求: 1.1, 2.1, 3.1, 3.2_

- [ ] 2. 修复路由匹配逻辑
  - 改进menuRoutes中的路由存在性检查
  - 确保所有定义的路由都能被正确识别
  - 修复路径匹配算法的潜在问题
  - _需求: 1.1, 1.2, 2.1, 2.2_

- [ ] 3. 优化权限检查机制
  - 检查hasPermission函数的实现
  - 确保默认情况下菜单项可见
  - 修复权限检查导致的菜单隐藏问题
  - _需求: 3.1, 3.2, 3.3, 3.4_

- [ ] 4. 验证市场数据菜单显示
  - 确保"市场数据"父菜单正确显示
  - 验证"市场资讯"子菜单项可见
  - 验证"财经日历"子菜单项可见
  - 测试菜单点击导航功能
  - _需求: 1.1, 1.2, 1.3, 1.4, 1.5_

- [ ] 5. 验证系统设置菜单显示
  - 确保"系统设置"父菜单正确显示
  - 验证"账户设置"子菜单项可见
  - 验证"交易设置"子菜单项可见
  - 测试菜单点击导航功能
  - _需求: 2.1, 2.2, 2.3, 2.4, 2.5_

- [ ] 6. 改进菜单用户体验
  - 优化菜单项的视觉反馈
  - 确保当前页面的菜单项正确高亮
  - 测试移动端菜单显示和交互
  - 添加菜单加载状态处理
  - _需求: 4.1, 4.2, 4.3, 4.4_

- [ ] 7. 添加调试和监控工具
  - 在开发模式下添加菜单调试信息
  - 创建菜单状态检查工具
  - 添加菜单相关错误的日志记录
  - _需求: 3.1, 3.2, 4.1, 4.2_

- [ ] 8. 全面测试菜单功能
  - 测试所有菜单项的显示和导航
  - 验证不同用户角色下的菜单权限
  - 测试菜单在不同设备上的显示效果
  - 确认所有缺失的菜单项都已恢复显示
  - _需求: 1.1, 1.2, 1.3, 1.4, 1.5, 2.1, 2.2, 2.3, 2.4, 2.5, 3.1, 3.2, 3.3, 3.4, 4.1, 4.2, 4.3, 4.4_